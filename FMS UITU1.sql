--------------------------------------------------TABLES CREATED-----------------------------------------------------------------------------
--FARMER
CREATE TABLE FARMER ( 
    FARMER_ID NUMBER(10) PRIMARY KEY,  -- Reduced size from INT (assuming NUMBER(38) is used)
    FARMER_NAME VARCHAR2(50),          -- Reduced size for the name
    FARMER_PHONE_NUMBER VARCHAR2(15)   -- No change needed, phone number is fine with 15 characters
);

 --CROP
 CREATE TABLE CROP ( 
 CROP_ID INT PRIMARY KEY, 
 NAME VARCHAR (255), 
 CROP_TYPE VARCHAR (255));
 --FARM
 CREATE TABLE FARM ( 
 FARM_ID INT PRIMARY KEY, 
 FARM_NAME VARCHAR (100), 
 FARM_ADDRESS VARCHAR (100), 
 FARMER_ID INT, 
 FOREIGN KEY (FARMER_ID) REFERENCES FARMER(FARMER_ID));
 --INPUT INVENTORY
 CREATE TABLE INPUT_INVENTORY ( 
 INVENTORY_ID INT PRIMARY KEY, 
 ITEM_NAME VARCHAR (255), 
 QUANTITY INT, 
 FARMER_ID INT, 
 FOREIGN KEY (FARMER_ID) REFERENCES FARMER(FARMER_ID));
 --Financial Transaction
CREATE TABLE FINANCIAL_TRANSACTIONS (
    TRANSACTION_ID NUMBER(38) PRIMARY KEY,  -- Transaction ID
    TYPE_OF_AMOUNT VARCHAR2(50),           -- Type of the amount (e.g., credit/debit)
    AMOUNT NUMBER(10, 2),                  -- Monetary amount with 2 decimal places
    FARMER_ID NUMBER(10),                  -- Foreign key referencing FARMER
    CONSTRAINT FK_FARM FOREIGN KEY (FARMER_ID) REFERENCES FARMER(FARMER_ID)
);

--FARMING_FIELD
CREATE TABLE FARMING_FIELD ( 
 FIELD_ID INT PRIMARY KEY, 
 FARMER_ID INT, 
 FIELD_SIZE DECIMAL (10, 2), 
 CROP INT, 
 FARM_ID INT, 
 FOREIGN KEY (FIELD_ID) REFERENCES FARMING_FIELD(FIELD_ID)); 
 FOREIGN KEY (FARMER_ID) REFERENCES FARMER(FARMER_ID), 
 FOREIGN KEY (CROP_ID) REFERENCES CROP(CROP_ID)), 
 FOREIGN KEY (FARM_ID) REFERENCES FARM(FARM_ID)); 
--FERTILIZER
CREATE TABLE FERTILIZERS ( 
 ANALYSIS_ID INT PRIMARY KEY, 
 FIELD_ID INT, 
 FERTILIZER_TYPE VARCHAR (255), 
 FERTILIZER_LEVEL DECIMAL (5, 2), 
 FOREIGN KEY (FIELD_ID) REFERENCES FARMING_FIELD(FIELD_ID)); 
--IRRIGATION
CREATE TABLE IR_SYS (
    SCHEDULE_ID NUMBER(10) PRIMARY KEY,
    AMOUNT NUMBER(10, 2),
    FREQUENCY VARCHAR2(20),
    FIELD_ID NUMBER(10)
);

--HARVEST RECORD
CREATE TABLE HS_RECORD ( 
 HARVEST_ID INT PRIMARY KEY, 
 YIELD_QUANTITY DECIMAL (10, 2), 
 DATE_OF_HARVEST DATE, 
 CROP_ID INT, 
 FOREIGN KEY (CROP_ID) REFERENCES CROP(CROP_ID) 
);
-------------------------------------------------INSERT DATA IN TABLES-----------------------------------------------------------------
---FARMER TABLE
INSERT INTO FARMER VALUES (1, 'Ahmed Ali', '1234567890');
INSERT INTO FARMER VALUES (2, 'Abdullah Mohsin', '1234567890');
INSERT INTO FARMER VALUES (3, 'Arish Khan', '1234567890');
INSERT INTO FARMER VALUES (4, 'Faheem Abbas', '1234567890');
INSERT INTO FARMER VALUES (5, 'Raman Soquel', '1234567890');
---FARM TABLE
INSERT INTO FARM VALUES (1, 'Sunny Farm', '123 Green Road',3);
INSERT INTO FARM VALUES (2, 'Green Valley Farm', '45 Canal View', 4);
INSERT INTO FARM VALUES (3, 'Pakistani Orchard', '78 Mango Street', 3);
INSERT INTO FARM VALUES (4, 'Golden Wheat Fields', '12 Lahore Avenue', 4);
INSERT INTO FARM VALUES (5, 'Sindh Dairy Farm', '90 Karachi Road', 2);
--INPUT INVENTORY TABLE
INSERT INTO INPUT_INVENTORY VALUES (1, 'Wheat Seeds', 500, 3);
INSERT INTO INPUT_INVENTORY VALUES (2, 'Fertilizer (Urea)', 300, 2);
INSERT INTO INPUT_INVENTORY VALUES (3, 'Pesticides', 150, 2);
INSERT INTO INPUT_INVENTORY VALUES (4, 'Tractor Fuel', 200, 3);
INSERT INTO INPUT_INVENTORY VALUES (5, 'Irrigation Pipes', 50, 4);
--FINANCIAL_TRANSACTION TABLE
INSERT INTO FINANCIAL_TRANSACTIONS VALUES (1, 'Crop Sale', 1500.00, 5);
INSERT INTO FINANCIAL_TRANSACTIONS VALUES (2, 'Fertilizer Purchase', 2500, 2);
INSERT INTO FINANCIAL_TRANSACTIONS VALUES (3, 'Seed Purchase', 4300, 5);
INSERT INTO FINANCIAL_TRANSACTIONS VALUES (4, 'Equipment Maintenance', 1200, 2);
INSERT INTO FINANCIAL_TRANSACTIONS VALUES (5, 'Milk Sale', 1000, 4);
---CROPS TABLE
INSERT INTO CROP VALUES (1, 'Wheat', 'Grain');
INSERT INTO CROP VALUES (2, 'Rice', 'Grain');
INSERT INTO CROP VALUES (3, 'Cotton', 'Fiber');
INSERT INTO CROP VALUES (4, 'Sugarcane', 'Cash Crop');
INSERT INTO CROP VALUES (5, 'Mango', 'Fruit');
--FARMING_FIELD TABLE
INSERT INTO FARMING_FIELD VALUES (1, 1, 10.50, 3,3); 
INSERT INTO FARMING_FIELD VALUES (2, 2, 15.00, 4,4); 
INSERT INTO FARMING_FIELD VALUES (3, 3, 8.25, 2,2);  
INSERT INTO FARMING_FIELD VALUES (4, 4, 12.00, 4,4); 
INSERT INTO FARMING_FIELD VALUES (5, 5, 20.00, 3,3); 
--FERTILIZERS TABLE
INSERT INTO FERTILIZERS VALUES (1, 2, 'Nitrogen', 12.50);
INSERT INTO FERTILIZERS VALUES (2, 2, 'Phosphorus', 15.00);
INSERT INTO FERTILIZERS VALUES (3, 3, 'Potassium', 10.00);
INSERT INTO FERTILIZERS VALUES (4, 4, 'Organic Compost', 8.00);
INSERT INTO FERTILIZERS VALUES (5, 5, 'Micronutrients Mix', 20.00);
INSERT INTO FERTILIZERS VALUES (6, 3, 'Organic Compost', 20.00); 
INSERT INTO FERTILIZERS VALUES (7, 5, 'Micronutrients Mix', 20.00); 
INSERT INTO FERTILIZERS VALUES (8, 1, 'Organic Compost', 20.00); 
INSERT INTO FERTILIZERS VALUES (9, 4, 'Nitrogen', 20.00);
INSERT INTO FERTILIZERS VALUES (10, 1, 'Micronutrients Mix', 20.00);
--IRRIGATION TABLE
INSERT INTO IR_SYS VALUES (1, 500.00, 'Weekly', 2);
INSERT INTO IR_SYS VALUES (2, 300.00, 'Bi-Weekly', 2);
INSERT INTO IR_SYS VALUES (3, 600.00, 'Monthly', 4);
INSERT INTO IR_SYS VALUES (4, 700.00, 'Weekly', 5);
INSERT INTO IR_SYS VALUES (5, 250.00, 'Bi-Weekly', 4);
--HARVEST RECORD TABLE
INSERT INTO HS_RECORD VALUES (1, 2000.00, TO_DATE('2024-12-15', 'YYYY-MM-DD'), 4);
INSERT INTO HS_RECORD VALUES (2, 3500.00, TO_DATE('2024-11-30', 'YYYY-MM-DD'), 4);
INSERT INTO HS_RECORD VALUES (3, 2500.00, TO_DATE('2024-10-20', 'YYYY-MM-DD'), 5);
INSERT INTO HS_RECORD VALUES (4, 4000.00, TO_DATE('2024-12-01', 'YYYY-MM-DD'), 3);
INSERT INTO HS_RECORD VALUES (5, 1500.00, TO_DATE('2024-07-15', 'YYYY-MM-DD'), 3);
----LARGE AMOUNT  FOR REMOVE ERROR WE HAVE USED IT------
ALTER SYSTEM SET AUDIT_TRAIL = NONE SCOPE = SPFILE;
SHUTDOWN IMMEDIATE;
STARTUP;
--FINANCE
ALTER SYSTEM SET AUDIT_TRAIL = DB SCOPE = SPFILE;
SHUTDOWN IMMEDIATE;
STARTUP;
ALTER TABLE FIN_TRANS RENAME TO FINANCIAL_TRANSACTIONS;
--IRRIGATION
ALTER TABLE IRRIGATION_SCHEDULE RENAME TO IR_SYS;
ALTER SYSTEM SET AUDIT_TRAIL = DB SCOPE = SPFILE;
SHUTDOWN IMMEDIATE;
STARTUP;
--------------------------------------------Display TABLE SHOW---------------------
SELECT * FROM FARMER;
SELECT * FROM FARM;
SELECT * FROM INPUT_INVENTORY;
SELECT * FROM FINANCIAL_TRANSACTIONS;
SELECT * FROM CROP;
SELECT * FROM FARMING_FIELD; 
SELECT * FROM FERTILIZERS;
SELECT * FROM IR_SYS;
SELECT * FROM HS_RECORD;